const assert = require('node:assert/strict');
const test = require('node:test');
const { processInput, part1, part2 } = require('./playground');

test('Part1 - should handle example input', async () => {
    const input = [
        "162,817,812",
        "57,618,57",
        "906,360,560",
        "592,479,940",
        "352,342,300",
        "466,668,158",
        "542,29,236",
        "431,825,988",
        "739,650,466",
        "52,470,668",
        "216,146,977",
        "819,987,18",
        "117,168,530",
        "805,96,715",
        "346,949,466",
        "970,615,88",
        "941,993,340",
        "862,61,35",
        "984,92,344",
        "425,690,689"
    ];
    const result = part1(input, 10)
    assert.equal(result, 40);
})
test('Part1 - should handle full input', async () => {
    const input = await processInput("input.txt");
    const result = part1(input, 1000) // 79, 59, 29
    assert.equal(result, 135169);
})

test('Part2 - should handle example input', async () => {
    const input = [
        "162,817,812",
        "57,618,57",
        "906,360,560",
        "592,479,940",
        "352,342,300",
        "466,668,158",
        "542,29,236",
        "431,825,988",
        "739,650,466",
        "52,470,668",
        "216,146,977",
        "819,987,18",
        "117,168,530",
        "805,96,715",
        "346,949,466",
        "970,615,88",
        "941,993,340",
        "862,61,35",
        "984,92,344",
        "425,690,689"
    ];
    const result = part2(input, 10)
    assert.equal(result, 25272);
})

test('Part2 - should handle full input', async () => {
    const input = await processInput("input.txt");
    const result = part2(input) 
    assert.equal(result, 302133440);
})



// subset: [
//     [ '0,19', 316.90219311326956 ],
//     [ '0,7', 321.560258738545 ],
//     [ '2,13', 322.36935338211043 ],
//     [ '7,19', 328.11888089532425 ],
//     [ '17,18', 333.6555109690233 ],
//     [ '9,12', 338.33858780813046 ],
//     [ '11,16', 344.3893145845266 ],
//     [ '2,8', 347.59890678769403 ],
//     [ '14,19', 350.786259708102 ],
//     [ '2,18', 352.936254867646 ],
//     [ '3,19', 367.9823365326113 ],
//     [ '4,6', 371.70552861102294 ],
//     [ '4,12', 372.02284876066415 ],
//     [ '4,5', 373.41130138226936 ],
//     [ '6,17', 379.242666376029 ],
//     [ '3,7', 384.6309919910251 ],
//     [ '8,19', 387.2014979309868 ],
//     [ '0,9', 391.46519640959144 ],
//     [ '11,15', 407.53527454687895 ],
//     [ '13,18', 411.9441709746601 ],
//     [ '5,8', 411.96723170660067 ],
//     [ '0,14', 413.5166260260886 ],
//     [ '8,16', 417.52724462003675 ],
//     [ '1,5', 424.24285497813634 ],
//     [ '9,19', 433.55507147304826 ],
//     [ '5,14', 433.84905209070126 ],
//     [ '8,15', 444.3759669469086 ],
//     [ '15,16', 455.22412062631304 ],
//     [ '10,12', 458.360120429341 ],
//     [ '6,18', 459.34409760004536 ],
//     [ '1,4', 471.4339826529267 ],
//     [ '9,10', 476.8154779366962 ],
//     [ '4,9', 491.7397685768358 ],
//     [ '3,13', 492.62866339668057 ],
//     [ '8,14', 493.81170500505556 ],
//     [ '5,11', 495.95362686444787 ],
//     [ '3,10', 503.62088916167886 ],
//     [ '2,3', 507.10649769057386 ],
//     [ '5,15', 511.5906566777779 ],
//     [ '4,8', 521.7173564297051 ],
//     [ '3,8', 524.9057058177211 ],
//     [ '4,19', 527.0237186313344 ],
//     [ '5,19', 533.0347080631805 ],
//     [ '6,12', 535.1467088565527 ],
//     [ '2,15', 540.2823335997579 ],
//     [ '7,14', 543.2172677667749 ],
//     [ '6,13', 550.5442761486128 ],
//     [ '0,3', 561.7187908553532 ],
//     [ '8,11', 566.2799660945105 ],
//     [ '15,17', 566.9118097199952 ],
//     [ '15,18', 582.4611575032278 ],
//     [ '2,6', 589.0950687282996 ],
//     [ '9,14', 597.2277622482063 ],
//     [ '2,19', 597.412755136681 ],
//     [ '1,14', 600.3024237832128 ],
//     [ '5,16', 603.633995066547 ],
//     [ '3,9', 604.7024061470237 ],
//     [ '2,17', 605.773885208004 ],
//     [ '14,16', 609.7843881241959 ],
//     [ '7,9', 609.9721305108948 ],
//     [ '8,13', 610.9607188682428 ],
//     [ '2,4', 612.2417823049975 ],
//     [ '8,18', 621.5086483710423 ],
//     [ '12,19', 626.6011490573569 ],
//     [ '1,9', 628.6891123599962 ],
//     [ '4,14', 629.3178846973921 ],
//     [ '7,8', 630.8510125219742 ],
//     [ '4,17', 639.7546404677344 ],
//     [ '10,13', 646.5794614739939 ],
//     [ '5,6', 648.2136993307068 ],
//     [ '10,19', 650.0469213833721 ],
//     [ '11,14', 652.5925221759746 ],
//     [ '1,12', 655.6134531871658 ],
//     [ '4,13', 661.7779083650345 ],
//     [ '2,5', 670.8710755428349 ],
//     [ '2,16', 671.0543942185313 ],
//     [ '4,18', 681.0726833459113 ],
//     [ '13,17', 683.2817866736973 ],
//     [ '5,9', 686.0757975617563 ],
//     [ '6,8', 690.9052033383451 ],
//     [ '16,19', 692.7236101072347 ],
//     [ '0,10', 693.0959529531247 ],
//     [ '0,8', 693.2055972076394 ],
//     [ '3,4', 697.1147681694887 ],
//     [ '3,12', 700.31849897029 ],
//     [ '13,19', 705.628797598284 ],
//     [ '4,15', 708.0939203241333 ],
//     [ '0,12', 709.0486584149215 ],
//     [ '3,14', 711.4014337910769 ],
//     [ '7,10', 712.3110275715237 ],
//     [ '5,12', 714.2723570179655 ],
//     [ '12,13', 716.0677342263091 ],
//     [ '4,10', 717.8028977372549 ],
//     [ '0,4', 723.7879523727927 ],
//     [ '1,19', 734.8686957545546 ],
//     [ '5,17', 735.1149569965231 ],
//     [ '0,5', 736.432617419951 ],
//     [ '8,9', 738.3583140995976 ],
//     [ '8,17', 740.1425538367592 ],
//     [ '6,15', 740.597056434874 ],
